---
layout: post
title: System Overview
permalink: overview
---

The Arterial Blood Pressure Triggering System is an open source tool developed at SickKids. The system converts a blood pressure signal into a TTL signal, as illustrated below.

![alt text]({{ '/images/monitoring_system.png' | prepend: site.baseurl | prepend: site.url }} "illustration of how the triggering system transforms blood pressure signal into TTL signal")

This is useful for situations in which a triggering signal is required to correct for pulsatile flow or cardiac motion, but the standard clinical ECG or pulse oximeter based triggering systems can not be used. The original application of this system was to provide a retrospective gating signal during 4DFlow and phase contrast scans on prenatal Yorkshire pig fetus's hearts. During the experiments, the fetal pigs blood pressure was monitored using an invasive Samba flow probe in the carotid artery. TODO: INSERT SOME IMAGES

## Key Features

* Compatible with [Transonic](http://www.transonic.com/products/research/product/t402t403-multi-channel-research-consoles/) and Samba Sensors pressure measurement modules, and can easily be adapted to work with most other pressure measurement instruments
* Unit calibrates itself automatically every three seconds to correct for baseline drift, and large changes in maximum signal amplitude
* Performs well even on noisy and irregular blood pressure waveforms
* Plug-and-play operation with a one second boot time
* The triggering unit has voltage regulation circuitry complete with inline fuses, to ensure that the scanner will be protected in the event of an electrical fault in the computer or pressure measurement instrument
* Simple monitoring software shows real-time plots of the blood pressure and triggering waveforms, and logs that data so that it can be compared against the scan data in post processing

## Hardware

The triggering unit is shown below:

![alt text]({{ '/images/finished_build.JPG' | prepend: site.baseurl | prepend: site.url }}  "triggering unit photo")

The connections on the front panel of the triggering unit are:

Samba Sensor Input (s-video)  | Transonic Sensor Input (BNC) | External Trigger Out (RCA) 
----------------------------- | ---------------------------- | --------------------------
Input Selection Switch        |                              | Trigger Status LED

The triggering unit is compatible with:
1. [Transonic T402/T403 Pressure Measurement Systems](http://www.transonic.com/products/research/product/t402t403-multi-channel-research-consoles/)
2. Samba Sensors: Samba 202 Pressure Measurement System (no longer available)

The unit can easily be adapted to be compatible with virtually any other blood pressure measurement system, feel free to email me at joshbradshaw11@gmail.com with questions about your research application.

## Monitoring Software

The monitoring software is not required to use the triggering unit, but it is very useful. The top chart animation shows the input signal from the pressure catheter, and the bottom chart animation shows the triggering signal that's been sent to the scanner. These charts are updated in real-time with <20ms of delay, so you'll be aware of any irregular heartbeats, or problems with the pressure catheter, right as they happen. Every run of the triggering unit is logged with time and date stamps, so it can be compared with the MRI data in post processing if required.


## Scanner compatibility

The SickKids research MRI scanner is the Siemens Magnetom Trio with a field strength of 3T, so the triggering unit's TTL output is calibrated to meet or exceed all of the parameters given in Siemen's timing diagram (taken from the latest version of the Magnetom Trio operating manual). The TTL pulses sent by the unit are 20ms in duration at 3.3V, which should be sufficient for most MRI scanners.

![alt text]({{ '/images/siemens_external_trigger (1).png'  | prepend: site.baseurl | prepend: site.url }}  "screenshot of Siemens timing diagram taken from the scanner's operating manual")