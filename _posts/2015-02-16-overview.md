---
layout: post
title: System Overview
tagline: "not supporting tagline"
permalink: overview
---

The Arterial Blood Pressure Triggering System was designed at SickKids hospital as a tool for retrospective gating in 4dFlow MRI imaging of fetal Yorkshire pigs' hearts. The system uses robust blood pressure peak recognition algorithms that are not susceptible to high frequency noise or baseline drift. The design is permissively open source under the MIT license, so it can be used and adapted for any purpose.

The system was designed with usability in mind. Its completely plug-and-play, all you have to do is connect your pressure catheter, run an RCA cable to the MRI scanner's external trigger input port, and connect the USB cable to any computer. After that the system will automatically calibrate itself, and trigger continuously.

## Hardware

![alt text]({{ '/images/finished_build.JPG' | prepend: site.baseurl | prepend: site.url }}  "triggering unit photo")

The triggering unit (pictured above) is a small self contained unit. The connectors are:

Samba Sensor Input (s-video)  | Transonic Sensor Input (BNC) | External Trigger Out (RCA) 
----------------------------- | ---------------------------- | --------------------------
Input Selection Switch        |                              | Trigger Status LED

The triggering unit is compatible with:
1. [Transonic T402/T403 Pressure Measurement Systems](http://www.transonic.com/products/research/product/t402t403-multi-channel-research-consoles/)
2. Samba Sensors: Samba 202 Pressure Measurement System (no longer available)

The unit can easily be adapted to be compatible with most other blood pressure measurement systems, feel free to email me at joshbradshaw11@gmail.com with questions about your research application.

At SickKids our primary research MRI scanner is the Siemens Magnetom Trio with a field strength of 3T, so the triggering units's TTL output to the scanner is calibrated to meet or exceed all of the parameters given in Siemen's timing diagram (taken from the latest version of the Magnetom Trio operating manual):

![alt text]({{ 'siemens_external_trigger (1).png'  | prepend: site.baseurl | prepend: site.url }}  "screenshot of Siemens timing diagram taken from the scanner's operating manual")

The triggering unit has voltage regulation circuitry complete with inline fuses, to ensuring that the scanner will be protected in the event of an electrical fault in the computer or pressure measurement instrument.


## Monitoring Software

The monitoring software is not required to use the triggering unit, but it is very useful. The top chart animation shows the input signal from the pressure catheter, and the bottom chart animation shows the triggering signal that's been sent to the scanner. These charts are updated in real-time with <20ms of delay, so you'll be aware of any irregular heartbeats, or problems with the pressure catheter, right as they happen. Every run of the triggering unit is logged with time and date stamps, so it can be compared with the MRI data in post processing if required.

![alt text]({{ '/images/monitoring_system.png' | prepend: site.baseurl | prepend: site.url }} "Screenshot of monitoring system display")