<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Arterial BP Triggering</title>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="./css/theme.css" type="text/css" />
  <link rel="stylesheet" href="./css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="./css/highlight.css">

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="./js/highlight.pack.js"></script>
  <script src="./js/theme.js"></script>

  <style>
    body {font-size: 90%;}
    pre, code {font-size: 100%;}
    h3, h4, h5, h6 {color: #2980b9; font-weight: 300}
  </style> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> Arterial BP Triggering</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
        <span>Instructions</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="instructions/user_manual/">User Manual</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="instructions/guidelines-for-adapting-to-new-instrument/">Guidelines for using a Different Pressure Measurement System</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="instructions/reflash-the-microcontroller/">Reflashing the Microcontroller</a>
                    
                </li>
            
        

    
        
        <span>Build Log</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="build_log/apb-triggering/">Triggering Algorithm</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="build_log/set-adaptive-gain-algorithm/">Gain Adjustment Algorithm</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="build_log/adaptive-gain-adjustment/">Variable Gain Amplifier</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="build_log/gui-design/">Monitoring Tool</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="build_log/pcb-design/">PCB</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="build_log/testing-australian-data/">Validation</a>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="."></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    <li>System Overview</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/JoshBradshaw/Arterial-BP-MRI-Triggering-Unit" class="icon icon-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <h2 id="system-overview">System Overview</h2>
<style>
td { 
  border: solid;
  border-width: 1px 1px;
  padding: 5px;
}
</style>

<p>The Arterial Blood Pressure Triggering System is an open source tool developed at SickKids. The system converts a blood pressure signal into a TTL signal, as illustrated below.</p>
<p><img alt="alt text" src=".//images/bp_vs_ttl.jpg" title="illustration of how the triggering system transforms blood pressure signal into TTL signal" /></p>
<p>This is useful for situations in which a gating signal is required to correct for pulsatile flow or cardiac motion, but the standard clinical ECG or pulse oximeter based triggering systems can not be used. The original application of this system was to provide a retrospective gating signal during 4DFlow and phase contrast scans on prenatal Yorkshire pig fetus's hearts. During the experiments, the fetal pigs blood pressure was monitored using an invasive Samba flow probe in the carotid artery.</p>
<h3 id="key-features">Key Features</h3>
<ul>
<li>Compatible with <a href="http://www.transonic.com/products/research/product/t402t403-multi-channel-research-consoles/">Transonic</a> and Samba Sensors pressure measurement modules, and can easily be adapted to work with most other pressure measurement instruments</li>
<li>Unit calibrates itself automatically every three seconds to correct for baseline drift, and large changes in maximum signal amplitude</li>
<li>Performs well even on noisy and irregular blood pressure waveforms</li>
<li>Plug-and-play operation with a one second boot time</li>
<li>The triggering unit has voltage regulation circuitry complete with inline fuses, to ensure that the scanner will be protected in the event of an electrical fault in the computer or pressure measurement instrument</li>
<li>Simple monitoring software shows real-time plots of the blood pressure and triggering waveforms, and logs that data so that it can be compared against the scan data in post processing</li>
</ul>
<h3 id="hardware">Hardware</h3>
<p>The triggering unit is shown below:</p>
<p><img alt="alt text" src=".//images/finished_build.JPG" title="triggering unit photo" /></p>
<p>The connections on the front panel of the triggering unit are:</p>
<table>
    <tr>
        <td>Samba Sensor Input (s-video)</td>
        <td>Transonic Sensor Input (BNC)</td>
        <td>External Trigger Out (RCA)</td>
    </tr>
    <tr>
        <td>Input Selection Switch</td>
        <td></td>
        <td>Trigger Status LED</td>
    </tr>
</table>

<p><br />
Finally, a USB cable runs out of the back corner of the unit. This cable is connected to a computer to power the unit, and optionally to transfer the blood pressure readings to the monitoring software.</p>
<h2 id="monitoring-software">Monitoring Software</h2>
<p><img alt="alt text" src=".//images/monitoring_system.png" title="triggering unit photo" /></p>
<p>The monitoring tool give the experimenter real-time feedback on the pressure catheter and the triggering signal. The top chart animation shows the input signal from the pressure catheter, and the bottom chart animation shows the triggering signal that's been sent to the scanner. These charts are updated in real-time with &lt;20ms of delay, so you'll be aware of any irregular heartbeats, or problems with the pressure catheter, right as they happen. Every run of the triggering unit is logged with time and date stamps, so it can be compared with the MRI data in post processing if required.</p>
<p>For more information about the monitoring software see:
1. Monitoring software design</p>
<h3 id="scanner-compatibility">Scanner compatibility</h3>
<p>The SickKids research MRI scanner is the Siemens Magnetom Trio with a field strength of 3T, so the triggering unit's TTL output is calibrated to meet or exceed all of the parameters given in Siemen's timing diagram (taken from the latest version of the Magnetom Trio operating manual). The TTL pulses sent by the unit are 20ms in duration at 3.3V, which should be sufficient for most MRI scanners.</p>
<h3 id="how-to-aquire-a-unit">How to aquire a unit</h3>
<p>So far only two of these units have been built, and they were both hand assembled. If you're moderately competant with software and electronics you can build one yourself using the schematics. The parts are listed in the schematics directory, and all of the components are avaialble from digikey. For the PCB board, I may be able to provide you one of my spares. Failing that, you can easily send the GERBER files to any circuit board manufacturer to have them assembled.</p>
<p>Feel free to email me at joshbradshaw11@gmail.com if you are interested in adapting this unit to work with a different blood pressure instrument, or want to commision me to build one for you.</p>

            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="instructions/user_manual/" class="btn btn-neutral float-right" title="User Manual"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
            <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
        
      <span><a href="" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="instructions/user_manual/" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>
</body>
</html>